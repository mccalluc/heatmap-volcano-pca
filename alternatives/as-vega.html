<html>
  <head>
    <title>as-vega</title>
    <script src="https://vega.github.io/vega-editor/vendor/d3.min.js"></script>
    <script src="https://vega.github.io/vega/vega.min.js"></script>
  </head>
  <body>
    <h1>as-vega</h1>
    <p>TODO: do someting with selected rectangle.</p>
    <div id="vis"></div>
  </body>
<script type="text/javascript">
  vg.parse.spec('vega.json', function(error, chart) {
    var view = chart({
      el:"#vis"
    });
    view.data('gene_expression_level').insert([
        {
          "gene": "A",
          "condition": "X",
          "level": 0.5,
          "log_fold_change": -0.1,
          "negative_log_p": 0.1,
          "component_1": 0.1,
          "component_2": 0.1
        },
        {
          "gene": "B",
          "condition": "Y",
          "level": 0.2,
          "log_fold_change": 0,
          "negative_log_p": 0.2,
          "component_1": 0.2,
          "component_2": 0.2
        },
        {
          "gene": "C",
          "condition": "Z",
          "level": 0.7,
          "log_fold_change": 0.1,
          "negative_log_p": 0.1,
          "component_1": 0.14,
          "component_2": 0.16
        }
    ]);
    view.update();
    console.log(view.data('gene_expression_level').values());
  });
</script>
</html>
